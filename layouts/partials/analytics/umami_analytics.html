{{ if not (isset site.Params.anubis2.services.umami "id")}}
    {{ errorf "Anubis2: You enabled params.anubis2.services.umami, but the parameter 'params.anubis2.services.umami.id' is not set." }}
{{ end }}

{{ if not (isset site.Params.anubis2.services.umami "url")}}
    {{ errorf "Anubis2: You enabled params.anubis2.services.umami, but the parameter 'params.anubis2.services.umami.url' is not set." }}
{{ end }}

{{ $umamiId := site.Params.anubis2.services.umami.id }}
{{ $umamiUrl:= site.Params.anubis2.services.umami.url }}
{{ $datacache:= site.Params.anubis2.services.umami.datacache | default "false" }}
{{ $dnt := site.Params.anubis2.services.umami.dnt | default "false" }}

<script async defer data-website-id="{{ $umamiId }}" data-cache="{{ $datacache }}" data-do-not-track="{{ $dnt }}" src="{{ $umamiUrl }}"></script>
